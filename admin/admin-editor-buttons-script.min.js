function tgsbFromAir(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbFromAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.from_air&&(returnValue='"from_air":"'+b.value+'"')});return returnValue}
function tgsbToAir(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbToAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.to_air&&(returnValue='"to_air":"'+b.value+'"')});return returnValue}
function tgsbDepartureDate(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbDepartureDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.departure_date&&(returnValue='"departure_date":"'+b.value+'"')});return returnValue}
function tgsbReturnDate(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbReturnDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.return_date&&(returnValue='"return_date":"'+b.value+'"')});return returnValue}
function tgsbAdults(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbAdults"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.adults&&(returnValue='"adults":"'+b.value+'"')});return returnValue}
function tgsbKids(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbKids"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.kids&&(returnValue='"kids":"'+b.value+'"')});return returnValue}
function tgsbSeniors(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbSeniors"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.seniors&&(returnValue='"seniors":"'+b.value+'"')});return returnValue}
function tgsbRooms(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbRooms"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rooms&&(returnValue='"rooms":"'+b.value+'"')});return returnValue}
function tgsbRTOW(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"oneway"==b.name&&(b.value="on"==b.value?!0:!1,b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rtow&&(returnValue='"rtow":"'+b.value+'"'))});return returnValue}
function tgsbCruises(a){var e="";jQuery.each(a,function(a,d){!d.value||d.value==TG_Searchboxes_Variables.tgsbDefaultSettings[d.name]||"cruiseline"!=d.name&&"length_of_stay"!=d.name&&"destination"!=d.name&&"month_year"!=d.name||(e+='"'+d.name+'":"'+d.value+'",')});return e}function setAlignment(){var a="alignnone",e=jQuery("#TB_ajaxContent").find("input[name=img_align]");for(i in e)if(1==e[i].checked){a=e[i].value;break}return a}
jQuery(document).ready(function(a){function e(){var b=TG_Searchboxes_Editor_Button.str_EditorButtonAjaxURL.replace(/\&amp\;/ig,"&");tb_show("Travelgrove Searchboxes",b,!1);a("#TB_ajaxContent").width("auto").height("94.5%").click(function(b){b=a(b.target);if(b.is("a.send_searchbox_to_editor")||b.is("input.send_searchbox_to_editor")){b=a("ul.measuresChooser li a.current").text();b=0==b.length?"300x250":b;var d=a(".sb"+b+" .tg_searchbox .tg_container").find("form.sel").attr("class").match(/^(flights|hotels|cars|packages|cruises)/),
f=a(".sb"+b+" .tg_searchbox .tg_container form").serializeArray(),e=a("#travelSearchUseJavaScript").attr("checked"),c="";tgsb_fromAir=tgsbFromAir(f);c+=tgsb_fromAir.length?tgsb_fromAir+",":tgsb_fromAir;tgsb_toAir=tgsbToAir(f);c+=tgsb_toAir.length?tgsb_toAir+",":tgsb_toAir;tgsb_departureDate=tgsbDepartureDate(f);c+=tgsb_departureDate.length?tgsb_departureDate+",":tgsb_departureDate;tgsb_returnDate=tgsbReturnDate(f);c+=tgsb_returnDate.length?tgsb_returnDate+",":tgsb_returnDate;tgsb_adults=tgsbAdults(f);
c+=tgsb_adults.length?tgsb_adults+",":tgsb_adults;tgsb_kids=tgsbKids(f);c+=tgsb_kids.length?tgsb_kids+",":tgsb_kids;tgsb_seniors=tgsbSeniors(f);c+=tgsb_seniors.length?tgsb_seniors+",":tgsb_seniors;tgsb_rooms=tgsbRooms(f);c+=tgsb_rooms.length?tgsb_rooms+",":tgsb_rooms;tgsb_rtow=tgsbRTOW(f);c+=tgsb_rtow.length?tgsb_rtow+",":tgsb_rtow;c+=tgsbCruises(f);c=c+(e?'"usejavascript":"on",':"")+("300x250"==b?"":'"size":"'+b+'",');c+=null==d?'"selectedTab":"flights"':"flights"==d[1]?"":'"selectedTab":"'+d[1]+
'"';alignment=setAlignment();c+="alignnone"==alignment?"":'"alignment":"'+alignment+'"';c.match(/\,$/)&&(c=c.replace(/\,$/,""));send_to_editor("[tg_searchboxes"+(c.length?" options='{"+c+"}']":"]"))}return!1});return!1}var b=a("#ed_toolbar");if(b){var d=document.createElement("input");d.type="button";d.value=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;d.className="ed_button";d.title=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;d.id="ed_button_tg_searchboxes";b.append(d);a("#ed_button_tg_searchboxes").click(e)}});