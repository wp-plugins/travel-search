function tgsbFromAir(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){"tgsbFromAir"==a.name&&a.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.from_air&&(c='"from_air":"'+a.value+'"')});return c}
function tgsbToAir(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbToAir"!=a.name||0!=jQuery(a.obj).parents("form.hotels").length||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.to_air||(c='"to_air":"'+a.value+'"')});return c}
function tgsbHotelCity(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){!c&&"tgsbToAir"==a.name&&0<jQuery(a.obj).parents("form.hotels").length&&a.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.hotel_city&&(c='"hotel_city":"'+a.value+'"')});return c}
function tgsbDepartureDate(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbDepartureDate"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.departure_date||(c='"departure_date":"'+a.value+'"')});return c}
function tgsbReturnDate(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbReturnDate"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.return_date||(c='"return_date":"'+a.value+'"')});return c}function tgsbAdults(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbAdults"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.adults||(c='"adults":"'+a.value+'"')});return c}
function tgsbKids(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbKids"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.kids||(c='"kids":"'+a.value+'"')});return c}function tgsbSeniors(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbSeniors"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.seniors||(c='"seniors":"'+a.value+'"')});return c}
function tgsbRooms(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"tgsbRooms"!=a.name||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings.rooms||(c='"rooms":"'+a.value+'"')});return c}function tgsbRTOW(b){if("undefined"==typeof b||0==b.length)return"";var c="";jQuery.each(b,function(b,a){c||"oneway"!=a.name||(a.value="on"==a.value?!0:!1,a.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rtow&&(c='"rtow":"'+a.value+'"'))});return c}
function tgsbCruises(b){var c="";jQuery.each(b,function(b,a){!a.value||a.value==TG_Searchboxes_Variables.tgsbDefaultSettings[a.name]||"cruiseline"!=a.name&&"length_of_stay"!=a.name&&"destination"!=a.name&&"month_year"!=a.name||(c+='"'+a.name+'":"'+a.value+'",')});return c}function setAlignment(){var b="alignnone",c=jQuery("#TB_ajaxContent").find("input[name=img_align]");for(i in c)if(1==c[i].checked){b=c[i].value;break}return b}
jQuery(document).ready(function(b){function c(){var a=TG_Searchboxes_Editor_Button.str_EditorButtonAjaxURL.replace(/\&amp\;/ig,"&");tb_show("Travelgrove Searchboxes",a,!1);b("#TB_ajaxContent").width("auto").height("94.5%").click(function(a){a=b(a.target);if(a.is("a.send_searchbox_to_editor")||a.is("input.send_searchbox_to_editor")){a=b("ul.measuresChooser li a.current").text();a=0==a.length?"300x250":a;var c=b(".sb"+a+" .tg_searchbox .tg_container").find("form.sel").attr("class").match(/^(flights|hotels|cars|packages|cruises)/),
f=[];b(".sb"+a+" .tg_searchbox .tg_container form").find("input, select, textarea").each(function(){("radio"!=this.type&&"checkbox"!=this.type||this.checked)&&f.push({name:this.name,value:this.value,obj:this})});var g=b("#travelSearchUseJavaScript").attr("checked"),d="",e=tgsbFromAir(f),d=d+(e.length?e+",":""),e=tgsbToAir(f),d=d+(e.length?e+",":""),e=tgsbHotelCity(f),d=d+(e.length?e+",":""),e=tgsbDepartureDate(f),d=d+(e.length?e+",":""),e=tgsbReturnDate(f),d=d+(e.length?e+",":""),e=tgsbAdults(f),
d=d+(e.length?e+",":""),e=tgsbKids(f),d=d+(e.length?e+",":""),e=tgsbSeniors(f),d=d+(e.length?e+",":""),e=tgsbRooms(f),d=d+(e.length?e+",":""),e=tgsbRTOW(f),d=d+(e.length?e+",":""),d=d+tgsbCruises(f),d=d+(g?'"usejavascript":"on",':"")+("300x250"==a?"":'"size":"'+a+'",'),d=d+(null==c?'"selectedTab":"flights"':"flights"==c[1]?"":'"selectedTab":"'+c[1]+'"');alignment=setAlignment();d+="alignnone"==alignment?"":'"alignment":"'+alignment+'"';d.match(/\,$/)&&(d=d.replace(/\,$/,""));send_to_editor("[tg_searchboxes"+
(d.length?" options='{"+d+"}']":"]"))}return!1});return!1}var g=b("#ed_toolbar");if(g){var a=document.createElement("input");a.type="button";a.value=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;a.className="ed_button";a.title=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;a.id="ed_button_tg_searchboxes";g.append(a);b("#ed_button_tg_searchboxes").click(c)}});