function tgsbFromAir(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbFromAir"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.from_air){returnValue='"from_air":"'+b.value+'"';return}}});return returnValue}function tgsbToAir(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbToAir"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.to_air){returnValue='"to_air":"'+b.value+'"';return}}});return returnValue}function tgsbDepartureDate(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbDepartureDate"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.departure_date){returnValue='"departure_date":"'+b.value+'"';return}}});return returnValue}function tgsbReturnDate(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbReturnDate"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.return_date){returnValue='"return_date":"'+b.value+'"';return}}});return returnValue}function tgsbAdults(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbAdults"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.adults){returnValue='"adults":"'+b.value+'"';return}}});return returnValue}function tgsbKids(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbKids"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.kids){returnValue='"kids":"'+b.value+'"';return}}});return returnValue}function tgsbSeniors(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbSeniors"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.seniors){returnValue='"seniors":"'+b.value+'"';return}}});return returnValue}function tgsbRooms(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="tgsbRooms"){if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rooms){returnValue='"rooms":"'+b.value+'"';return}}});return returnValue}function tgsbRTOW(a){if(typeof(a)=="undefined"||a.length==0){return""}returnValue="";jQuery.each(a,function(c,b){if(b.name=="oneway"){b.value=(b.value=="on")?true:false;if(b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rtow){returnValue='"rtow":"'+b.value+'"';return}}});return returnValue}function setAlignment(){var a="alignnone";var b=jQuery("#TB_ajaxContent").find("input[name=img_align]");for(i in b){if(b[i].checked==true){a=b[i].value;break}}return a}jQuery(document).ready(function(c){var b=c("#ed_toolbar");if(b){var d=document.createElement("input");d.type="button";d.value=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;d.className="ed_button";d.title=TG_Searchboxes_Editor_Button.str_EditorButtonCaption;d.id="ed_button_tg_searchboxes";b.append(d);c("#ed_button_tg_searchboxes").click(a)}function a(){var e="Travelgrove Searchboxes";var f=TG_Searchboxes_Editor_Button.str_EditorButtonAjaxURL.replace(/\&amp\;/ig,"&");tb_show(e,f,false);c("#TB_ajaxContent").width("auto").height("94.5%").click(function(o){var g=c(o.target);if(g.is("a.send_searchbox_to_editor")||g.is("input.send_searchbox_to_editor")){var m=c("ul.measuresChooser li a.current").text();m=(m.length==0)?"300x250":m;var j=c(".sb"+m+" .tg_searchbox .tg_container").find("form.sel").attr("class").match(/^(flights|hotels|cars|packages)/);var k=c(".sb"+m+" .tg_searchbox .tg_container form").serializeArray();var n=c("#travelSearchUseJavaScript").attr("checked");var h="";tgsb_fromAir=tgsbFromAir(k);h+=(tgsb_fromAir.length)?tgsb_fromAir+",":tgsb_fromAir;tgsb_toAir=tgsbToAir(k);h+=(tgsb_toAir.length)?tgsb_toAir+",":tgsb_toAir;tgsb_departureDate=tgsbDepartureDate(k);h+=(tgsb_departureDate.length)?tgsb_departureDate+",":tgsb_departureDate;tgsb_returnDate=tgsbReturnDate(k);h+=(tgsb_returnDate.length)?tgsb_returnDate+",":tgsb_returnDate;tgsb_adults=tgsbAdults(k);h+=(tgsb_adults.length)?tgsb_adults+",":tgsb_adults;tgsb_kids=tgsbKids(k);h+=(tgsb_kids.length)?tgsb_kids+",":tgsb_kids;tgsb_seniors=tgsbSeniors(k);h+=(tgsb_seniors.length)?tgsb_seniors+",":tgsb_seniors;tgsb_rooms=tgsbRooms(k);h+=(tgsb_rooms.length)?tgsb_rooms+",":tgsb_rooms;tgsb_rtow=tgsbRTOW(k);h+=(tgsb_rtow.length)?tgsb_rtow+",":tgsb_rtow;h+=n?'"usejavascript":"on",':"";h+=(m=="300x250")?"":'"size":"'+m+'",';h+=(j==null)?'"selectedTab":"flights"':((j[1]=="flights")?"":'"selectedTab":"'+j[1]+'"');alignment=setAlignment();h+=(alignment=="alignnone")?"":'"alignment":"'+alignment+'"';if(h.match(/\,$/)){h=h.replace(/\,$/,"")}var l="[tg_searchboxes"+(h.length?" options='{"+h+"}']":"]");send_to_editor(l)}return false});return false}});