var tgsb_departureDate=!1,tgsb_returnDate=!1,ASoptions={delay:175,timeout:5E3,script:TG_Searchboxes_Settings.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"airports",domainPrefix:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[a-z]+>/gi,"").replace(/(.*),(.*)\((.*)\)/,"$1 ($3)")},callback:function(a,b){var c=jQuery(b.fld);c.hasClass("asFrom")&&
c.parents(".tg_searchbox").find(".tg_container > div:not(.cars)").find(".asFrom").val(c.val());c.hasClass("asTo")&&(jQuery(".asTo").val(c.val()),c.parents(".tg_searchbox").find(".tg_container > div.cars").find(".asFrom").val(c.val()))}},hotelASoptions={delay:175,timeout:5E3,script:TG_Searchboxes_Settings.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"cities",domainPrefix:!0,
nearestAirport:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[^>]+>/gi,"").replace(/(.*),(.*) \((.*)\)/,"$1,$2")},callback:function(a,b){var c=jQuery(b.fld);if(c.hasClass("asTo")){for(var d=c.val(),e=0;e<a.attributes.length;e++)if("airport"==a.attributes[e].nodeName){var h=a.attributes[e].value?a.attributes[e].value:a.attributes[e].nodeValue;if(h)try{var f=eval("("+h+")");f&&f.city&&f.iata&&(d=f.city+" ("+f.iata+")")}catch(g){}}jQuery(".asTo").not(c).val(d);c.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(d)}}};
function inputFocus(a){this.value==this.defaultValue?this.value="":this.select()}function inputBlur(a){""==this.value&&(this.value=this.defaultValue)}
function createDatepicker(a,b,c,d){"function"!=typeof d&&(d=function(){});jQuery("#"+a+", #"+b).each(function(){jQuery(this).datepicker({minDate:0,maxDate:"2y",showOn:"both",buttonImage:TG_Searchboxes_Settings.str_CalendarURL,buttonImageOnly:!0,dateFormat:TG_Searchboxes_Settings.str_dateFormat,onSelect:function(c,e){d1=jQuery(this).datepicker("getDate");if(this.id==a&&(d2=jQuery.datepicker.parseDate(TG_Searchboxes_Settings.str_dateFormat,jQuery("#"+b).val()),jQuery("#"+b).datepicker("option","minDate",
d1),d2&&d1>d2)){d2.setTime(d1.getTime()+432E6);jQuery("#"+b).val(jQuery.datepicker.formatDate(TG_Searchboxes_Settings.str_dateFormat,d2));var g=jQuery("#"+b).parents("div.tg_searchbox:eq(0)");g.find("input.retDate").val(jQuery.datepicker.formatDate(TG_Searchboxes_Settings.str_dateFormat,d2))}var k=this.name,g=jQuery(this).parents("div.tg_searchbox:eq(0)");g.find('input[name="'+k+'"]').val(c);d()}})});if("object"==typeof c&&0<c.length){var e=c.get(0).id;c=c.get(1).id;jQuery("#"+c).change(function(){this.checked&&
(jQuery("#"+b).attr("disabled",!0),d())});jQuery("#"+e).change(function(){this.checked&&(jQuery("#"+b).attr("disabled",!1),d())})}}
function setTgSBDates(a,b,c,d){if("undefined"==typeof a||!a)return!1;"undefined"==typeof b&&(b=!1);"undefined"==typeof c&&(c=!1);"undefined"==typeof d&&(d=!1);if(!b&&!c&&!d)return!1;if(b)return b=parseInt(b).toString(),"NaN"!=b?new Date(a.getTime()+864E5*parseInt(b)):!1;if(c)return c=parseInt(c).toString(),"NaN"!=c?new Date(a.setMonth(a.getMonth()+parseInt(c))):!1;if(d)return d=parseInt(d).toString(),"NaN"!=d?new Date(a.setFullYear(a.getFullYear()+parseInt(d))):!1}
function setDepartureDateToForm(a){"undefined"!=typeof a&&a||(a=jQuery("#tgsb_departure_date").val());var b=new Date;"1 day"==a&&(tgsb_departureDate=setTgSBDates(b,1));"2 days"==a&&(tgsb_departureDate=setTgSBDates(b,2));"3 days"==a&&(tgsb_departureDate=setTgSBDates(b,3));"4 days"==a&&(tgsb_departureDate=setTgSBDates(b,4));"5 days"==a&&(tgsb_departureDate=setTgSBDates(b,5));"6 days"==a&&(tgsb_departureDate=setTgSBDates(b,6));"1 week"==a&&(tgsb_departureDate=setTgSBDates(b,7));"2 weeks"==a&&(tgsb_departureDate=
setTgSBDates(b,14));"3 weeks"==a&&(tgsb_departureDate=setTgSBDates(b,21));"4 weeks"==a&&(tgsb_departureDate=setTgSBDates(b,28));"1 month"==a&&(tgsb_departureDate=setTgSBDates(b,!1,1));"2 months"==a&&(tgsb_departureDate=setTgSBDates(b,!1,2));"3 months"==a&&(tgsb_departureDate=setTgSBDates(b,!1,3));"1 year"==a&&(tgsb_departureDate=setTgSBDates(b,!1,!1,1));tgsb_departureDate&&jQuery(".tg_searchbox").find("input.depDate").val(jQuery.datepicker.formatDate(TG_Searchboxes_Settings.str_dateFormat,tgsb_departureDate))}
function setReturnDateToForm(a){"undefined"!=typeof a&&a||(a=jQuery("#tgsb_return_date").val());if(!tgsb_departureDate)return!1;"+1 day"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,1));"+2 days"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,2));"+3 days"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,3));"+4 days"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,4));"+5 days"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,5));"+6 days"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,
6));"+1 week"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,7));"+2 weeks"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,14));"+3 weeks"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,21));"+4 weeks"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,28));"+1 month"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,!1,1));"+2 months"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,!1,2));"+3 months"==a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,!1,3));"+1 year"==
a&&(tgsb_returnDate=setTgSBDates(tgsb_departureDate,!1,!1,1));tgsb_returnDate&&jQuery(".tg_searchbox").find("input.retDate").val(jQuery.datepicker.formatDate(TG_Searchboxes_Settings.str_dateFormat,tgsb_returnDate))}
jQuery(function(){jQuery(jQuery("#id_referral").get(0)).focus(inputFocus).blur(inputBlur);jQuery(".tgsb_addAS").each(function(){new AS(this.id,ASoptions)});jQuery(".tgsb_addASH").each(function(){new AS(this.id,hotelASoptions)});jQuery("div.tg_searchbox ul.tg_tabs li span").click(function(){selectedTab=jQuery(this).attr("class").match(/^[a-z]+/);var a=jQuery(this).parents("div.tg_searchbox:eq(0)");a.find("ul.tg_tabs li span").removeClass("sel");a.find("ul.tg_tabs li span").attr("style","background-color:"+
jQuery("#tbscolor").val()+" !important");a.find("ul.tg_tabs li span."+selectedTab).addClass("sel");a.find("ul.tg_tabs li span.sel").attr("style","background-color:"+jQuery("#bgdcolor").val()+" !important");a.find("div.tg_container div").removeClass("sel");a.find("div.tg_container div."+selectedTab).addClass("sel")});jQuery("select.depDate").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".depDate").val(a.val())});jQuery("select.retDate").change(function(){var a=
jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".retDate").val(a.val())});jQuery("select.adults").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".adults").val(a.val())});jQuery("select.kids").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".kids").val(a.val())});jQuery("select.seniors").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".seniors").val(a.val())});
jQuery("select.rooms").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > div").find(".rooms").val(a.val())});jQuery("img.compareImage").click(function(){alert("Here you can set up the default values the searchboxes will be filled in with.\nTo test how the boxes work add them to your pages or visit the demo page.");return!1});jQuery(".tg_searchbox .tg_container > div").each(function(){var a=jQuery(this);if(!a.hasClass("pwr")){var b=a.find(".tgsb_addDP");if(1<b.length){var c=
b.get(0).id,b=b.get(1).id,d=!1,d=a.hasClass("flights")?jQuery(this).find('input[name="tg_searchboxes_options[flights_oneway]"]'):!1;createDatepicker(c,b,d)}}});jQuery(".colorSettings span, .colorSettings input").click(function(a){var b=this.className.match(/(i1|i2|i3|i4|i5|i6)$/);if(null==b)return!1;var c=jQuery(this).parents(".colorSettings"),d=c.find("div."+b),e="SPAN"==this.tagName?c.find("input."+b):this;d.css("top","SPAN"==this.tagName?this.offsetTop:c.find("span."+b).get(0).offsetTop);d.css("left",
"SPAN"==this.tagName?this.offsetLeft:c.find("span."+b).get(0).offsetLeft);jQuery(e).blur(function(){var a=jQuery(e).val();jQuery(e).css("background-color",a);setSearchboxColor(e,a);d.addClass("nod")});jQuery.farbtastic(d,function(a){setSearchboxColor(e,a);jQuery(e).val(a);jQuery(e).css("background-color",a)});d.removeClass("nod");a.preventDefault();jQuery(document).mousedown(function(){d.addClass("nod")})});setDepartureDateToForm();setReturnDateToForm();jQuery("#tgsb_departure_date").change(function(){setDepartureDateToForm(this.value);
setReturnDateToForm()});jQuery("#tgsb_return_date").change(function(){setDepartureDateToForm();setReturnDateToForm(this.value)});jQuery("ul.tgsb_settings li a, a.tgsb_shortcodeGenerator, input.tgsb_shortcodeGenerator").click(function(){var a=this.className.match(/^[a-zA-Z_]+/);jQuery("ul.tgsb_settings li a, ul.tgsb_settings li").removeClass("current");jQuery("ul.tgsb_settings li a."+a).addClass("current");jQuery("ul.tgsb_settings li a."+a).parents("li").addClass("current");jQuery("#tgsb_settings").addClass("nod");
jQuery("#tgsb_shortcodeGenerator").addClass("nod");jQuery("#"+a).removeClass("nod");scrollTo(0,0);return!1});jQuery("a.showTravelSearchLink").click(function(){jQuery("div.travelSearchLink").slideToggle("slow");return!1})});
function setSearchboxColor(a,b){jQuery(a).hasClass("i1")&&jQuery(".tg_searchbox .tg_container, .tg_searchbox .tg_tabs li span.sel").each(function(){if(jQuery(this).attr("style")){var a=jQuery(this).attr("style"),a=a.match("border-color:")?a.replace(/border-color:[^\;]+/gi,"border-color: "+b+" !important"):a+(";border-color: "+b+" !important"),a=a.replace(/^;/,"").replace(/;;/,";");jQuery(this).attr("style",a)}else jQuery(this).attr("style","border-color: "+b+" !important")});jQuery(a).hasClass("i2")&&
jQuery(".tg_searchbox .tg_container, .tg_searchbox .tg_tabs li span.sel, .tg_searchbox .tg_container label").css("color",b);jQuery(a).hasClass("i3")&&jQuery(".tg_searchbox .tg_container, .tg_searchbox .tg_tabs li span.sel").each(function(){if(jQuery(this).attr("style")){var a=jQuery(this).attr("style"),a=a.match("background-color:")?a.replace(/background-color:[^\;]+/gi,"background-color: "+b+" !important"):a+(";background-color: "+b+" !important"),a=a.replace(/^;/,"").replace(/;;/,";");jQuery(this).attr("style",
a)}else jQuery(this).attr("style","background-color: "+b+" !important")});if(jQuery(a).hasClass("i4")){var c=jQuery(".tg_searchbox .tg_tabs li span").not(".sel");if("undefined"==typeof c.attr("style"))c.attr("style","background-color: "+b+" !important");else{var d=c.attr("style"),d=d.match("background-color:")?d.replace(/background-color:[^\;]+/gi,"background-color: "+b+" !important"):d+(";background-color: "+b+" !important"),d=d.replace(/^;/,"").replace(/;;/,";");c.attr("style",d)}}jQuery(a).hasClass("i5")&&
jQuery(".tg_searchbox .tg_tabs li span").not(".sel").css("color",b);jQuery(a).hasClass("i6")&&(c=jQuery(".tg_searchbox .tg_tabs li span").not(".sel"),"undefined"==typeof c.attr("style")?c.attr("style","border-color: "+b+" !important"):(d=c.attr("style"),d=d.match("border-color:")?d.replace(/border-color:[^\;]+/gi,"border-color: "+b+" !important"):d+(";border-color: "+b+" !important"),d=d.replace(/^;/,"").replace(/;;/,";"),c.attr("style",d)))};