"undefined"!=typeof TG_Searchboxes_Variables&&"undefined"!=typeof TG_Searchboxes_Variables.tgsbDefaultSettings&&(TG_Searchboxes_Variables.tgsbDefaultSettings.match(/^\{\&quot\;/)&&(TG_Searchboxes_Variables.tgsbDefaultSettings=TG_Searchboxes_Variables.tgsbDefaultSettings.replace(/\&quot\;/ig,'"')),TG_Searchboxes_Variables.tgsbDefaultSettings=eval("("+TG_Searchboxes_Variables.tgsbDefaultSettings+")"));
function tgsbFromAir(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbFromAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.from_air&&(c='"from_air":"'+b.value+'"')});return c}function tgsbToAir(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbToAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.to_air&&(c='"to_air":"'+b.value+'"')});return c}
function tgsbHotelCity(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbToAir"==b.name&&0<jQuery(b).parents("form.hotels").length&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.hotel_city&&(c='"hotel_city":"'+b.value+'"')});return c}
function tgsbDepartureDate(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbDepartureDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.departure_date&&(c='"departure_date":"'+b.value+'"')});return c}
function tgsbReturnDate(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbReturnDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.return_date&&(c='"return_date":"'+b.value+'"')});return c}function tgsbAdults(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbAdults"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.adults&&(c='"adults":"'+b.value+'"')});return c}
function tgsbKids(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbKids"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.kids&&(c='"kids":"'+b.value+'"')});return c}function tgsbSeniors(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbSeniors"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.seniors&&(c='"seniors":"'+b.value+'"')});return c}
function tgsbRooms(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"tgsbRooms"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rooms&&(c='"rooms":"'+b.value+'"')});return c}function tgsbRTOW(a){if("undefined"==typeof a||0==a.length)return"";var c="";jQuery.each(a,function(a,b){"oneway"==b.name&&(b.value="on"==b.value?!0:!1,b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rtow&&(c='"rtow":"'+b.value+'"'))});return c}
function tgsbCruises(a){var c="";jQuery.each(a,function(a,b){!b.value||b.value==TG_Searchboxes_Variables.tgsbDefaultSettings[b.name]||"cruiseline"!=b.name&&"length_of_stay"!=b.name&&"destination"!=b.name&&"month_year"!=b.name||(c+='"'+b.name+'":"'+b.value+'",')});return c}
function generateShortcode(){var a=jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a.current").text(),a=0==a.length?"300x250":a,c=jQuery("#tgsb_shortcodeGenerator .sb"+a+" .tg_searchbox .tg_container").find("form.sel").attr("class").match(/^(flights|hotels|cars|packages|cruises)/),f=[];jQuery(".sb"+a+" .tg_searchbox .tg_container form").find("input, select, textarea").each(function(){("radio"!=this.type&&"checkbox"!=this.type||this.checked)&&f.push({name:this.name,value:this.value,obj:this})});
var b=jQuery("#tgsb_shortcodeGenerator #travelSearchShortcodeUseJavaScript").attr("checked"),d="",e=tgsbFromAir(f),d=d+(e.length?e+",":""),e=tgsbToAir(f),d=d+(e.length?e+",":""),e=tgsbHotelCity(f),d=d+(e.length?e+",":""),e=tgsbDepartureDate(f),d=d+(e.length?e+",":""),e=tgsbReturnDate(f),d=d+(e.length?e+",":""),e=tgsbAdults(f),d=d+(e.length?e+",":""),e=tgsbKids(f),d=d+(e.length?e+",":""),e=tgsbSeniors(f),d=d+(e.length?e+",":""),e=tgsbRooms(f),d=d+(e.length?e+",":""),e=tgsbRTOW(f),d=d+(e.length?e+",":
""),d=d+tgsbCruises(f),d=d+(b?'"usejavascript":"on",':"")+("300x250"==a?"":'"size":"'+a+'",'),d=d+(null==c?'"selectedTab":"flights"':"flights"==c[1]?"":'"selectedTab":"'+c[1]+'"');d.match(/\,$/)&&(d=d.replace(/\,$/,""));a="[tg_searchboxes"+(d.length?" options='{"+d+"}']":"]");"undefined"!=typeof a&&a.length&&(jQuery("#tgsb_shortcodeGenerator #tgsb_shortcode").val(a),jQuery("#tgsb_shortcodeGenerator #tgsb_shortcode_php").val("<?php echo do_shortcode('"+a.replace(/\'/g,"\\'")+"'); ?>"));return!0}
var ASoptionsShortcodes={delay:175,timeout:5E3,script:TG_Searchboxes_Variables.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"airports",maxResults:10,domainPrefix:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[a-z]+>/gi,"").replace(/(.*),(.*)\((.*)\)/,"$1 ($3)")},callback:function(a,c){var f=jQuery(c.fld);f.hasClass("asFrom")&&(jQuery("#tgsb_shortcodeGenerator .asFrom").val(f.val()),
f.parents("#tgsb_shortcodeGenerator").find(".tg_container > form.cars").find(".asFrom").val(""));f.hasClass("asTo")&&(jQuery("#tgsb_shortcodeGenerator .asTo").val(f.val()),f.parents("#tgsb_shortcodeGenerator").find(".tg_container > form.cars").find(".asFrom").val(f.val()));generateShortcode()}};
jQuery(function(){jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a").click(function(){measureChoosed=jQuery(this).text();jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a").removeClass("current");jQuery(this).addClass("current");jQuery("div.tgsb").removeClass("crnt");jQuery("div.sb"+measureChoosed).addClass("crnt");generateShortcode();return!1});jQuery("#tgsb_shortcodeGenerator div.tg_searchbox ul.tg_tabs li span").click(function(){selectedTab=jQuery(this).attr("class").match(/^[a-z]+/);
var a=jQuery(this).parents("div.tg_searchbox:eq(0)");a.find("ul.tg_tabs li span").removeClass("sel");a.find("ul.tg_tabs li span."+selectedTab).addClass("sel");a.find("div.tg_container form").removeClass("sel");a.find("div.tg_container form."+selectedTab).addClass("sel");generateShortcode();return!1});jQuery("#tgsb_shortcodeGenerator input.tgsb_submit_button").click(function(){alert("Here you can set up how the box should appear inside your post.\nTo see this box in action hit Insert and update your post,\nor visit the demo page of this plugin at:\n"+
TG_Searchboxes_Variables.demoPage);return!1});jQuery("#tgsb_shortcodeGenerator select.adults").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".adults").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.kids").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".kids").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.seniors").change(function(){var a=
jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".seniors").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.rooms").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".rooms").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator .tgsb_addAS, #tgsb_shortcodeGenerator .tgsb_addASH").each(function(){jQuery(this).focus(inputFocus).blur(inputBlur);new AS(this.id,ASoptionsShortcodes)});jQuery("#tgsb_shortcodeGenerator .tg_searchbox form").each(function(){var a=
jQuery(this).find(".tgsb_addDP");if(1<a.length){var c=a.get(0).id,a=a.get(1).id,f=!1,f=jQuery(this).hasClass("flights")?jQuery(this).find("input[name=oneway]"):!1;createDatepicker(c,a,f,generateShortcode)}});jQuery("#tgsb_shortcodeGenerator select.cruises").change(function(){generateShortcode()});jQuery("#travelSearchShortcodeUseJavaScript").click(generateShortcode)});