"undefined"!=typeof TG_Searchboxes_Variables&&"undefined"!=typeof TG_Searchboxes_Variables.tgsbDefaultSettings&&(TG_Searchboxes_Variables.tgsbDefaultSettings.match(/^\{\&quot\;/)&&(TG_Searchboxes_Variables.tgsbDefaultSettings=TG_Searchboxes_Variables.tgsbDefaultSettings.replace(/\&quot\;/ig,'"')),TG_Searchboxes_Variables.tgsbDefaultSettings=eval("("+TG_Searchboxes_Variables.tgsbDefaultSettings+")"));
function tgsbFromAir(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbFromAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.from_air&&(returnValue='"from_air":"'+b.value+'"')});return returnValue}
function tgsbToAir(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbToAir"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.to_air&&(returnValue='"to_air":"'+b.value+'"')});return returnValue}
function tgsbDepartureDate(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbDepartureDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.departure_date&&(returnValue='"departure_date":"'+b.value+'"')});return returnValue}
function tgsbReturnDate(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbReturnDate"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.return_date&&(returnValue='"return_date":"'+b.value+'"')});return returnValue}
function tgsbAdults(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbAdults"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.adults&&(returnValue='"adults":"'+b.value+'"')});return returnValue}
function tgsbKids(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbKids"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.kids&&(returnValue='"kids":"'+b.value+'"')});return returnValue}
function tgsbSeniors(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbSeniors"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.seniors&&(returnValue='"seniors":"'+b.value+'"')});return returnValue}
function tgsbRooms(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"tgsbRooms"==b.name&&b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rooms&&(returnValue='"rooms":"'+b.value+'"')});return returnValue}
function tgsbRTOW(a){if("undefined"==typeof a||0==a.length)return"";returnValue="";jQuery.each(a,function(a,b){"oneway"==b.name&&(b.value="on"==b.value?!0:!1,b.value!=TG_Searchboxes_Variables.tgsbDefaultSettings.rtow&&(returnValue='"rtow":"'+b.value+'"'))});return returnValue}
function tgsbCruises(a){var d="";jQuery.each(a,function(a,e){!e.value||e.value==TG_Searchboxes_Variables.tgsbDefaultSettings[e.name]||"cruiseline"!=e.name&&"length_of_stay"!=e.name&&"destination"!=e.name&&"month_year"!=e.name||(d+='"'+e.name+'":"'+e.value+'",')});return d}
function generateShortcode(){var a=jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a.current").text(),a=0==a.length?"300x250":a,d=jQuery("#tgsb_shortcodeGenerator .sb"+a+" .tg_searchbox .tg_container").find("form.sel").attr("class").match(/^(flights|hotels|cars|packages|cruises)/),b=jQuery("#tgsb_shortcodeGenerator .sb"+a+" .tg_searchbox .tg_container form").serializeArray(),e=jQuery("#tgsb_shortcodeGenerator #travelSearchShortcodeUseJavaScript").attr("checked"),c="";tgsb_fromAir=tgsbFromAir(b);
c+=tgsb_fromAir.length?tgsb_fromAir+",":tgsb_fromAir;tgsb_toAir=tgsbToAir(b);c+=tgsb_toAir.length?tgsb_toAir+",":tgsb_toAir;tgsb_departureDate=tgsbDepartureDate(b);c+=tgsb_departureDate.length?tgsb_departureDate+",":tgsb_departureDate;tgsb_returnDate=tgsbReturnDate(b);c+=tgsb_returnDate.length?tgsb_returnDate+",":tgsb_returnDate;tgsb_adults=tgsbAdults(b);c+=tgsb_adults.length?tgsb_adults+",":tgsb_adults;tgsb_kids=tgsbKids(b);c+=tgsb_kids.length?tgsb_kids+",":tgsb_kids;tgsb_seniors=tgsbSeniors(b);
c+=tgsb_seniors.length?tgsb_seniors+",":tgsb_seniors;tgsb_rooms=tgsbRooms(b);c+=tgsb_rooms.length?tgsb_rooms+",":tgsb_rooms;tgsb_rtow=tgsbRTOW(b);c+=tgsb_rtow.length?tgsb_rtow+",":tgsb_rtow;c+=tgsbCruises(b);c=c+(e?'"usejavascript":"on",':"")+("300x250"==a?"":'"size":"'+a+'",');c+=null==d?'"selectedTab":"flights"':"flights"==d[1]?"":'"selectedTab":"'+d[1]+'"';c.match(/\,$/)&&(c=c.replace(/\,$/,""));a="[tg_searchboxes"+(c.length?" options='{"+c+"}']":"]");"undefined"!=typeof a&&a.length&&(jQuery("#tgsb_shortcodeGenerator #tgsb_shortcode").val(a),
jQuery("#tgsb_shortcodeGenerator #tgsb_shortcode_php").val("<?php echo do_shortcode('"+a.replace(/\'/g,"\\'")+"'); ?>"));return!0}
var ASoptionsShortcodes={delay:175,timeout:5E3,script:TG_Searchboxes_Variables.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"airports",maxResults:10,domainPrefix:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[a-z]+>/gi,"").replace(/(.*),(.*)\((.*)\)/,"$1 ($3)")},callback:function(a,d){var b=jQuery(d.fld);b.hasClass("asFrom")&&(jQuery("#tgsb_shortcodeGenerator .asFrom").val(b.val()),
b.parents("#tgsb_shortcodeGenerator").find(".tg_container > form.cars").find(".asFrom").val(""));b.hasClass("asTo")&&(jQuery("#tgsb_shortcodeGenerator .asTo").val(b.val()),b.parents("#tgsb_shortcodeGenerator").find(".tg_container > form.cars").find(".asFrom").val(b.val()));generateShortcode()}};
jQuery(function(){jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a").click(function(){measureChoosed=jQuery(this).text();jQuery("#tgsb_shortcodeGenerator ul.measuresChooser li a").removeClass("current");jQuery(this).addClass("current");jQuery("div.tgsb").removeClass("crnt");jQuery("div.sb"+measureChoosed).addClass("crnt");generateShortcode();return!1});jQuery("#tgsb_shortcodeGenerator div.tg_searchbox ul.tg_tabs li span").click(function(){selectedTab=jQuery(this).attr("class").match(/^[a-z]+/);
var a=jQuery(this).parents("div.tg_searchbox:eq(0)");a.find("ul.tg_tabs li span").removeClass("sel");a.find("ul.tg_tabs li span."+selectedTab).addClass("sel");a.find("div.tg_container form").removeClass("sel");a.find("div.tg_container form."+selectedTab).addClass("sel");generateShortcode();return!1});jQuery("#tgsb_shortcodeGenerator input.tgsb_submit_button").click(function(){alert("Here you can set up how the box should appear inside your post.\nTo see this box in action hit Insert and update your post,\nor visit the demo page of this plugin at:\n"+
TG_Searchboxes_Variables.demoPage);return!1});jQuery("#tgsb_shortcodeGenerator select.adults").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".adults").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.kids").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".kids").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.seniors").change(function(){var a=
jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".seniors").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator select.rooms").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".rooms").val(a.val());generateShortcode()});jQuery("#tgsb_shortcodeGenerator .tgsb_addAS, #tgsb_shortcodeGenerator .tgsb_addASH").each(function(){jQuery(this).focus(inputFocus).blur(inputBlur);new AS(this.id,ASoptionsShortcodes)});jQuery("#tgsb_shortcodeGenerator .tg_searchbox form").each(function(){var a=
jQuery(this).find(".tgsb_addDP");if(1<a.length){var d=a.get(0).id,a=a.get(1).id,b=!1,b=jQuery(this).hasClass("flights")?jQuery(this).find("input[name=oneway]"):!1;createDatepicker(d,a,b,generateShortcode)}});jQuery("#tgsb_shortcodeGenerator select.cruises").change(function(){generateShortcode()});jQuery("#travelSearchShortcodeUseJavaScript").click(generateShortcode)});