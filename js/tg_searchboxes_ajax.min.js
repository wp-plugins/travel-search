function setParamsToBoxes(a){"undefined"!=typeof a.size&&a.size||(a.size="300x250");"undefined"!=typeof a.selectedTab&&a.selectedTab||(a.selectedTab="flights");"undefined"!=typeof a.alignment&&a.alignment||(a.alignment="alignnone");for(var c=jQuery("#TB_ajaxContent").find("input[name=img_align]"),b=0;b<c.length;b++)if(c[b].value==a.alignment){c[b].checked=!0;break}c=jQuery("#TB_ajaxContent").find("ul.measuresChooser");b="300x250";b=c.find("a.current").html();c.find("a.current").removeClass("current");
c.find("a."+a.size).addClass("current");jQuery("#TB_ajaxContent").find("div.tgsb.sb"+b).removeClass("crnt");c=jQuery("#TB_ajaxContent").find("div.tgsb.sb"+a.size);c.addClass("crnt");b=c.find("ul.tg_tabs");b.find("span.sel").removeClass("sel");b.find("span."+a.selectedTab).addClass("sel");c=c.find("div.tg_container");c.find("form.sel").removeClass("sel");c.find("form."+a.selectedTab).addClass("sel");c=jQuery("#TB_ajaxContent").find("form");jQuery("#TB_ajaxContent").find("a.send_searchbox_to_editor").html("Update");
jQuery("#TB_ajaxContent").find("input.send_searchbox_to_editor").val("Update Box");a.usejavascript&&jQuery("#TB_ajaxContent").find("#travelSearchUseJavaScript").attr("checked",!0);c.each(function(){var b=jQuery(this);"undefined"!=typeof a.from_air&&a.from_air&&!b.hasClass("cars")&&b.find("input.asFrom").val(a.from_air);"undefined"!=typeof a.to_air&&a.to_air&&(b.find("input.asTo").val(a.to_air),b.hasClass("cars")&&b.find("input.asFrom").val(a.to_air));"undefined"!=typeof a.hotel_city&&a.hotel_city&&
b.hasClass("hotels")&&b.find("input.asTo").val(a.hotel_city);"undefined"!=typeof a.departure_date&&a.departure_date&&b.find("input.depDate").val(a.departure_date);"undefined"!=typeof a.return_date&&a.return_date&&b.find("input.retDate").val(a.return_date);"undefined"!=typeof a.adults&&a.adults&&b.find("select.adults").val(a.adults);"undefined"!=typeof a.kids&&a.kids&&b.find("select.kids").val(a.kids);"undefined"!=typeof a.seniors&&a.seniors&&b.find("select.seniors").val(a.seniors);"undefined"!=typeof a.rooms&&
a.rooms&&b.find("select.rooms").val(a.rooms);if("undefined"!=typeof a.rtow){var c=b.hasClass("flights")?b.find("input[name=oneway], select[name=oneway], label.radio"):!1,g=0==a.rtow?"":"on";if(1==c.length){var d=c.get(0).id;jQuery("#"+d).val(g)}2==c.length&&(d=c.get(0).id,c=c.get(1).id,"on"==g?jQuery("#"+c).get(0).checked=!0:jQuery("#"+d).get(0).checked=!0)}"undefined"!=typeof a.cruiseline&&a.cruiseline&&b.find('select[name="cruiseline"]').val(a.cruiseline);"undefined"!=typeof a.destination&&a.destination&&
b.find('select[name="destination"]').val(a.destination);"undefined"!=typeof a.length_of_stay&&a.length_of_stay&&b.find('select[name="length_of_stay"]').val(a.length_of_stay);"undefined"!=typeof a.month_year&&a.month_year&&b.find('select[name="month_year"]').val(a.month_year)})}"undefined"!=typeof tgsb_selBoxParam&&tgsb_selBoxParam&&setParamsToBoxes(tgsb_selBoxParam);
jQuery("input[name=img_align], #basic .align .field label, #travelSearchUseJavaScript, label[for=travelSearchUseJavaScript]").click(function(a){a.stopPropagation();return!0});jQuery("ul.measuresChooser li a").click(function(){measureChoosed=jQuery(this).text();jQuery("ul.measuresChooser li a").removeClass("current");jQuery(this).addClass("current");jQuery("div.tgsb").removeClass("crnt");jQuery("div.sb"+measureChoosed).addClass("crnt")});
var ASoptions={delay:175,timeout:5E3,script:TG_Searchboxes_Variables.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"airports",maxResults:10,domainPrefix:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[a-z]+>/gi,"").replace(/(.*),(.*)\((.*)\)/,"$1 ($3)")},callback:function(a,c){var b=jQuery(c.fld);b.hasClass("asFrom")&&(jQuery(".asFrom").val(b.val()),
b.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(""));b.hasClass("asTo")&&(jQuery(".asTo").val(b.val()),b.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(b.val()))}},hotelASoptions={delay:175,timeout:5E3,script:TG_Searchboxes_Variables.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"cities",maxResults:10,domainPrefix:!0,
nearestAirport:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[^>]+>/gi,"").replace(/(.*),(.*) \((.*)\)/,"$1,$2")},callback:function(a,c){var b=jQuery(c.fld);if(b.hasClass("asTo")){for(var e=b.val(),f=0;f<a.attributes.length;f++)if("airport"==a.attributes[f].nodeName){var g=a.attributes[f].value?a.attributes[f].value:a.attributes[f].nodeValue;if(g)try{var d=eval("("+g+")");d&&d.city&&d.iata&&(e=d.city+" ("+d.iata+")")}catch(h){}}jQuery(".asTo").not(b).val(e);b.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(e)}}};
function inputFocus(a){this.value==this.defaultValue?this.value="":this.select()}function inputBlur(a){""==this.value&&(this.value=this.defaultValue)}
function createDatepicker(a,c,b){jQuery("#"+a+", #"+c).each(function(){var b=jQuery(this),d="undefined"!=typeof TG_Searchboxes_Variables?TG_Searchboxes_Variables:{};b.datepicker({minDate:0,maxDate:"2y",showOn:"both",buttonImage:d.str_CalendarURL,buttonImageOnly:!0,dateFormat:d.str_dateFormat,onSelect:function(b,f){d1=jQuery(this).datepicker("getDate");if(this.id==a&&d.str_dateFormat&&(d2=jQuery.datepicker.parseDate(d.str_dateFormat,jQuery("#"+c).val()),jQuery("#"+c).datepicker("option","minDate",
d1),d2&&d1>d2)){d2.setTime(d1.getTime()+432E6);var e=jQuery.datepicker.formatDate(d.str_dateFormat,d2);jQuery("#"+c).val(e);var g=jQuery("#"+c).parents("div.tg_searchbox:eq(0)");g.find("input.retDate").val(e)}inputName=this.name;g=jQuery(this).parents("div.tg_searchbox:eq(0)");g.find('input[name="'+inputName+'"]').val(b)}})});if("object"==typeof b&&0<b.length){var e=b.get(0).id,f=b.get(1).id;b.click(function(a){a.stopPropagation();this.id==f&&this.checked&&jQuery("#"+c).attr("disabled",!0);this.id==
e&&this.checked&&jQuery("#"+c).attr("disabled",!1)})}}jQuery("select.adults").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".adults").val(a.val())});jQuery("select.kids").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".kids").val(a.val())});jQuery("select.seniors").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".seniors").val(a.val())});
jQuery("select.rooms").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".rooms").val(a.val())});
try{jQuery(".tgsb_addAS").each(function(){jQuery(this).focus(inputFocus).blur(inputBlur);new AS(this.id,ASoptions)}),jQuery(".tgsb_addASH").each(function(){jQuery(this).focus(inputFocus).blur(inputBlur);new AS(this.id,hotelASoptions)}),jQuery("div.tg_searchbox ul.tg_tabs li span").click(function(){selectedTab=jQuery(this).attr("class").match(/^[a-z]+/);var a=jQuery(this).parents("div.tg_searchbox:eq(0)");a.find("ul.tg_tabs li span").removeClass("sel");a.find("ul.tg_tabs li span."+selectedTab).addClass("sel");
a.find("div.tg_container form").removeClass("sel");a.find("div.tg_container form."+selectedTab).addClass("sel")}),jQuery("input.tgsb_submit_button").click(function(){alert("Here you can set up how the box should appear inside your post.\nTo see this box in action hit Insert and update your post,\nor visit the demo page of this plugin at:\n"+TG_Searchboxes_Variables.demoPage);return!1}),jQuery(".tg_searchbox form").each(function(){try{var a=jQuery(this).find(".tgsb_addDP");if(1<a.length){var c=a.get(0).id,
b=a.get(1).id,a=!1,a=jQuery(this).hasClass("flights")?jQuery(this).find("input[name=oneway], label.radio"):!1;createDatepicker(c,b,a)}}catch(e){"undefined"!=typeof console&&console.log&&console.log("ERROR IN DATEPICKER: "+e.toString())}})}catch(e$$6){"undefined"!=typeof console&&console.log&&console.log("ERROR IN DATEPICKER: "+e$$6.toString())};