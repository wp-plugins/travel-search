function setParamsToBoxes(a){"undefined"!=typeof a.size&&a.size||(a.size="300x250");"undefined"!=typeof a.selectedTab&&a.selectedTab||(a.selectedTab="flights");"undefined"!=typeof a.alignment&&a.alignment||(a.alignment="alignnone");for(var b=jQuery("#TB_ajaxContent").find("input[name=img_align]"),c=0;c<b.length;c++)if(b[c].value==a.alignment){b[c].checked=!0;break}b=jQuery("#TB_ajaxContent").find("ul.measuresChooser");c="300x250";c=b.find("a.current").html();b.find("a.current").removeClass("current");
b.find("a."+a.size).addClass("current");jQuery("#TB_ajaxContent").find("div.tgsb.sb"+c).removeClass("crnt");b=jQuery("#TB_ajaxContent").find("div.tgsb.sb"+a.size);b.addClass("crnt");c=b.find("ul.tg_tabs");c.find("span.sel").removeClass("sel");c.find("span."+a.selectedTab).addClass("sel");b=b.find("div.tg_container");b.find("form.sel").removeClass("sel");b.find("form."+a.selectedTab).addClass("sel");b=jQuery("#TB_ajaxContent").find("form");jQuery("#TB_ajaxContent").find("a.send_searchbox_to_editor").html("Update");
jQuery("#TB_ajaxContent").find("input.send_searchbox_to_editor").val("Update Box");a.usejavascript&&jQuery("#TB_ajaxContent").find("#travelSearchUseJavaScript").attr("checked",!0);b.each(function(){var b=jQuery(this);"undefined"!=typeof a.from_air&&a.from_air&&!b.hasClass("cars")&&b.find("input.asFrom").val(a.from_air);"undefined"!=typeof a.to_air&&a.to_air&&(b.find("input.asTo").val(a.to_air),b.hasClass("cars")&&b.find("input.asFrom").val(a.to_air));"undefined"!=typeof a.departure_date&&a.departure_date&&
b.find("input.depDate").val(a.departure_date);"undefined"!=typeof a.return_date&&a.return_date&&b.find("input.retDate").val(a.return_date);"undefined"!=typeof a.adults&&a.adults&&b.find("select.adults").val(a.adults);"undefined"!=typeof a.kids&&a.kids&&b.find("select.kids").val(a.kids);"undefined"!=typeof a.seniors&&a.seniors&&b.find("select.seniors").val(a.seniors);"undefined"!=typeof a.rooms&&a.rooms&&b.find("select.rooms").val(a.rooms);if("undefined"!=typeof a.rtow){var c=b.hasClass("flights")?
b.find("input[name=oneway], select[name=oneway], label.radio"):!1,f=0==a.rtow?"":"on";if(1==c.length){var d=c.get(0).id;jQuery("#"+d).val(f)}2==c.length&&(d=c.get(0).id,c=c.get(1).id,"on"==f?jQuery("#"+c).get(0).checked=!0:jQuery("#"+d).get(0).checked=!0)}"undefined"!=typeof a.cruiseline&&a.cruiseline&&b.find('select[name="cruiseline"]').val(a.cruiseline);"undefined"!=typeof a.destination&&a.destination&&b.find('select[name="destination"]').val(a.destination);"undefined"!=typeof a.length_of_stay&&
a.length_of_stay&&b.find('select[name="length_of_stay"]').val(a.length_of_stay);"undefined"!=typeof a.month_year&&a.month_year&&b.find('select[name="month_year"]').val(a.month_year)})}"undefined"!=typeof tgsb_selBoxParam&&tgsb_selBoxParam&&setParamsToBoxes(tgsb_selBoxParam);jQuery("input[name=img_align], #basic .align .field label, #travelSearchUseJavaScript, label[for=travelSearchUseJavaScript]").click(function(a){a.stopPropagation();return!0});
jQuery("ul.measuresChooser li a").click(function(){measureChoosed=jQuery(this).text();jQuery("ul.measuresChooser li a").removeClass("current");jQuery(this).addClass("current");jQuery("div.tgsb").removeClass("crnt");jQuery("div.sb"+measureChoosed).addClass("crnt")});
var ASoptions={delay:175,timeout:5E3,script:TG_Searchboxes_Variables.str_ASAjaxURL,loadingClass:"tgsb_as_load",className:"tgsb_as tgsb_asMargin",json:!0,frameForIE:!0,ajaxParams:{action:"",json:!0,lng:"def",dsgn:"flg",addtag:"em",citytype:"airports",maxResults:10,domainPrefix:!0},autoSelect:!0,offsety:0,format:function(a){return a.innerHTML.replace(/<\/?[a-z]+>/gi,"").replace(/(.*),(.*)\((.*)\)/,"$1 ($3)")},callback:function(a,b){var c=jQuery(b.fld);c.hasClass("asFrom")&&(jQuery(".asFrom").val(c.val()),
c.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(""));c.hasClass("asTo")&&(jQuery(".asTo").val(c.val()),c.parents("#TB_ajaxContent").find(".tg_container > form.cars").find(".asFrom").val(c.val()))}};function inputFocus(a){this.value==this.defaultValue?this.value="":this.select()}function inputBlur(a){""==this.value&&(this.value=this.defaultValue)}
function createDatepicker(a,b,c){jQuery("#"+a+", #"+b).each(function(){var c=jQuery(this),d="undefined"!=typeof TG_Searchboxes_Variables?TG_Searchboxes_Variables:{};c.datepicker({minDate:0,maxDate:"2y",showOn:"both",buttonImage:d.str_CalendarURL,buttonImageOnly:!0,dateFormat:d.str_dateFormat,onSelect:function(c,f){d1=jQuery(this).datepicker("getDate");if(this.id==a&&d.str_dateFormat&&(d2=jQuery.datepicker.parseDate(d.str_dateFormat,jQuery("#"+b).val()),jQuery("#"+b).datepicker("option","minDate",
d1),d2&&d1>d2)){d2.setTime(d1.getTime()+432E6);var e=jQuery.datepicker.formatDate(d.str_dateFormat,d2);jQuery("#"+b).val(e);var g=jQuery("#"+b).parents("div.tg_searchbox:eq(0)");g.find("input.retDate").val(e)}inputName=this.name;g=jQuery(this).parents("div.tg_searchbox:eq(0)");g.find('input[name="'+inputName+'"]').val(c)}})});if("object"==typeof c&&0<c.length){var e=c.get(0).id,h=c.get(1).id;c.click(function(a){a.stopPropagation();this.id==h&&this.checked&&jQuery("#"+b).attr("disabled",!0);this.id==
e&&this.checked&&jQuery("#"+b).attr("disabled",!1)})}}jQuery("select.adults").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".adults").val(a.val())});jQuery("select.kids").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".kids").val(a.val())});jQuery("select.seniors").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".seniors").val(a.val())});
jQuery("select.rooms").change(function(){var a=jQuery(this);a.parents(".tg_searchbox").find(".tg_container > form").find(".rooms").val(a.val())});
try{jQuery(".tgsb_addAS, .tgsb_addASH").each(function(){jQuery(this).focus(inputFocus).blur(inputBlur);new AS(this.id,ASoptions)}),jQuery("div.tg_searchbox ul.tg_tabs li span").click(function(){selectedTab=jQuery(this).attr("class").match(/^[a-z]+/);var a=jQuery(this).parents("div.tg_searchbox:eq(0)");a.find("ul.tg_tabs li span").removeClass("sel");a.find("ul.tg_tabs li span."+selectedTab).addClass("sel");a.find("div.tg_container form").removeClass("sel");a.find("div.tg_container form."+selectedTab).addClass("sel")}),
jQuery("input.tgsb_submit_button").click(function(){alert("Here you can set up how the box should appear inside your post.\nTo see this box in action hit Insert and update your post,\nor visit the demo page of this plugin at:\n"+TG_Searchboxes_Variables.demoPage);return!1}),jQuery(".tg_searchbox form").each(function(){try{var a=jQuery(this).find(".tgsb_addDP");if(1<a.length){var b=a.get(0).id,c=a.get(1).id,a=!1,a=jQuery(this).hasClass("flights")?jQuery(this).find("input[name=oneway], label.radio"):
!1;createDatepicker(b,c,a)}}catch(e){"undefined"!=typeof console&&console.log&&console.log("ERROR IN DATEPICKER: "+e.toString())}})}catch(e$$5){"undefined"!=typeof console&&console.log&&console.log("ERROR IN DATEPICKER: "+e$$5.toString())};